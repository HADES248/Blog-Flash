<!DOCTYPE html>
<html lang="en">
<!-- Head -->
<%- include("./partials/head.ejs") %>

  <body>

    <!-- We can write dynamic code this way -->
    <% const name='Axel Blaze' %>

      <!-- To use partials we use include() function with relative path as params and also use " - " sign, not = as = gives a string value & - gives raw html -->

      <!-- Navbar -->
      <%- include("./partials/nav.ejs") %>

        <div class="blogs content">
          <h2>All blogs</h2>


          <!-- Looping through an array of data using view -->

          <%if (blogs.length> 0) {%>
            <%blogs.forEach((blog)=> {%>
              <!-- Setting up the anchor tag & mixing the href attribute with dynamic code using view. -->
              <a class="single" href="/blogs/<%= blog._id%>">
                <h3 class="title">
                  <%=blog.title%>
                </h3>
                <p class="snippet">
                  <%=blog.snippet%>
                </p>
                <p class="body">
                  <%=blog.body%>
                </p>
                <%})%>
              </a>
              <%} else { %>
                <p>There are no blogs to display</p>
                <%}%>
        </div>

        <!-- footer -->
        <%- include("./partials/footer.ejs") %>

  </body>

</html>